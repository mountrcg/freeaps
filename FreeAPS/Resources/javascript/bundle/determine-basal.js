var freeaps_determineBasal;(()=>{var e={5546:(e,r,a)=>{var t=a(6880);function o(e,r){r||(r=0);var a=Math.pow(10,r);return Math.round(e*a)/a}function n(e,r){return"mmol/L"===r.out_units?o(.0555*e,1):Math.round(e)}var i="",s="",l="",d="",u="",m="",c="",p="",g="",b="",f=1,h=1,v=1,_=1,B=1,M=1;function S(e,r,a){polyX_bg=[50,60,80,90,100,110,150,180,200],polyY_bg=[-.5,-.5,-.3,-.2,0,0,.5,.7,.7],polyX_delta=[2,7,12,16,20],polyY_delta=[0,0,.4,.7,.7],"bg"==a?(polyX=polyX_bg,polyY=polyY_bg):"delta"==a&&(polyX=polyX_delta,polyY=polyY_delta);var t=polyX.length-1,o=polyX[0],n=polyY[0],i=polyX[t],s=polyY[t],l=1,d=1,u=1,m=o;if(o>e)i=polyX[1],l=(d=n)+((s=polyY[1])-d)/(i-(u=o))*(e-u);else if(i<e)o=polyX[t-1],l=(d=n=polyY[t-1])+(s-d)/(i-(u=o))*(e-u);else for(var c=0;c<=t;c++){if(o=polyX[c],n=polyY[c],o==e){l=n;break}if(o>e){l=d+(n-d)/(o-(u=m))*(e-u);break}d=n,m=o}return l*="delta"==a?r.delta_ISFrange_weight:e>100?r.higher_ISFrange_weight:r.lower_ISFrange_weight}function y(e,r,a,t){return console.error("check ratio "+o(e,2)+" against autoISF min: "+r+" and autoISF max: "+a),e<r?(b=" (lmtd.)",p="weakest ISF factor "+o(e,2)+" limited by autoisf_min "+r,console.error(p),e=r):e>a&&(b=" (lmtd.)",p="strongest ISF factor "+o(e,2)+" limited by autoisf_max "+a,console.error(p),e=a),e>=1&&(M=Math.max(e,t)),e<1&&(M=Math.min(e,t)),p="final ISF factor "+o(M,2),console.error(p),M}function x(e,r,a,t,M,x,F,I){if(!a.use_autoisf)return console.error("autoISF disabled in Preferences"),i+=", autoISF, disabled",e;if(a.autoISF_off_Sport&&(a.high_temptarget_raises_sensitivity||a.exercise_mode)&&a.temptargetSet&&r>I)return console.error("autoISF disabled due to exercise"),i+=", autoISF, disabled (exercise)",e;const w=t.dura_p,T=t.delta_pl,C=t.delta_pn,D=t.r_squ,G=t.bg_acceleration,O=t.a_0,R=t.a_1,U=t.a_2,A=t.dura_ISF_minutes,P=t.dura_ISF_average;var k=!1,j=e,E=r+10-P;if(M.mealCOB>0&&!a.enableautoisf_with_COB)return console.error("BG dependant autoISF by-passed; preferences disabled mealCOB of "+o(M.mealCOB,1)),i+=", autoISF, disabled with COB",e;var W=t.pp_debug;if(m+="BG-accel: "+o(G,3)+", PF-minutes: "+w+", PF-corr: "+o(D,4)+", PF-nextDelta: "+n(C,a)+", PF-lastDelta: "+n(T,a)+", regular Delta: "+n(t.delta,a),console.error(W+m+" , Weights Accel/Brake: "+a.bgAccel_ISF_weight+" / "+a.bgBrake_ISF_weight),a.enable_BG_acceleration){var q=D,z=G;if(0!=t.parabola_fit_a2&&q>=.9){var L=-R/2/U*5,X=o(O-L*L/25*U,1);(L=o(L,1))>0&&z<0?(g="predicts a Max of "+n(X,a)+", in about "+Math.abs(L)+"min",console.error("Parabolic fit "+g)):L>0&&z>0?(g="predicts a Min of "+n(X,a)+", in about "+Math.abs(L)+"min",console.error("Parabolic fit "+g)):L<0&&z<0?(g="saw Max of "+n(X,a)+", about "+Math.abs(L)+"min ago",console.error("Parabolic fit "+g)):L<0&&z>0&&(g="saw Min of "+n(X,a)+", about "+Math.abs(L)+"min ago",console.error("Parabolic fit "+g))}if(q<.9)g="acce_ISF by-passed, as correlation, "+o(q,2)+", is too low",console.error("Parabolic fit "+g),c+=", Parabolic Fit, "+g;else{var Y=10*(q-.9),N=1,H=1;t.glucose<a.target_bg?z>0?(z>1&&(N=.5),H=a.bgBrake_ISF_weight):z<0&&(H=a.bgAccel_ISF_weight):z<0?H=a.bgBrake_ISF_weight:z>0&&(H=a.bgAccel_ISF_weight),(f=1+z*N*H*Y)<0&&(f=.1),console.error(c+" acce_ISF adaptation is "+o(f,2)),1!=f&&(k=!0,c+=", Parabolic Fit, "+g+", acce-ISF Ratio: "+o(f,2))}}else console.error("autoISF BG accelertion adaption disabled in Preferences");i+=s+c+", autoISF",h=1+S(100-E,a,"bg"),console.error("bg_ISF adaptation is "+o(h,2));var Z=1,$=1;if(h<1)return Z=Math.min(h,f),f>1?(p="bg-ISF adaptation lifted to "+o(Z=h*f,2)+", as BG accelerates already",console.error(p),i+=", bg-ISF Ratio: "+o(Z,2)+"(accel.)"):i+=", bg-ISF Ratio: "+o(Z,2),$=y(Z,a.autoISF_min,a.autoISF_max,F),j=(a.high_temptarget_raises_sensitivity||a.exercise_mode)&&a.temptargetSet&&r>I?Math.min(720,o(e/$,1)):Math.min(720,o(a.sens/$,1)),i+=d+u+l+", final Ratio: "+o($,2)+b+", final ISF: "+n(profile_sens,a)+"→"+n(j,a),j;h>1&&(k=!0,i+=", bg-ISF Ratio: "+o(h,2));var J=t.delta;a.enablepp_ISF_always||a.pp_ISF_hours>=(x-M.lastCarbTime)/1e3/3600?deltaType="pp":deltaType="delta",E>0?console.error(deltaType+"_ISF adaptation by-passed as average glucose < "+r+"+10"):t.short_avgdelta<0?console.error(deltaType+"_ISF adaptation by-passed as no rise or too short lived"):"pp"==deltaType?(_=1+Math.max(0,J*a.pp_ISF_weight),console.error("pp_ISF adaptation is "+o(_,2)),d=", pp-ISF Ratio: "+o(_,2),1!=_&&(k=!0)):(v=S(J,a,"delta"),E>-20&&(v*=.5),v=1+v,console.error("delta_ISF adaptation is "+o(v,2)),u=", Δ-ISF Ratio: "+o(v,2),1!=v&&(k=!0));var K=a.dura_ISF_weight;if(M.mealCOB>0&&!a.enableautoisf_with_COB)console.error("dura_ISF by-passed; preferences disabled mealCOB of "+o(M.mealCOB,1));else if(A<10)console.error("dura_ISF by-passed; BG is only "+A+"m at level "+P);else if(P<=r)console.error("dura_ISF by-passed; avg. glucose "+P+" below target "+n(r,a));else{B+=A/60*(K/r)*(P-r),k=!0,l=", Duration: "+A+", Avg: "+n(P,a)+", dura-ISF Ratio: "+o(B,2),console.error("dura_ISF adaptation is "+o(B,2)+" because ISF "+e+" did not do it for "+o(A,1)+"m")}return k?(Z=Math.max(B,h,v,f,_),console.error("autoISF adaption ratios:"),console.error("  dura "+o(B,2)),console.error("  bg "+o(h,2)),console.error("  delta "+o(v,2)),console.error("  pp "+o(_,2)),console.error("  accel "+o(f,2)),f<1&&(p="strongest ISF factor "+o(Z,2)+" weakened to "+o(Z*f,2)+" as bg decelerates already",console.error(p),Z*=f),$=y(Z,a.autoISF_min,a.autoISF_max,F),(a.high_temptarget_raises_sensitivity||a.exercise_mode)&&a.temptargetSet&&r>I?(j=o(e/$,1),console.error("autoISF adjusts sens "+j+", instead of profile.sens "+a.sens)):j=o(a.sens/$,1),i+=d+u+l+", final Ratio: "+o($,2)+b+", final ISF: "+n(j,a),j):(i+=", not modified",console.error("autoISF does not modify"),j)}e.exports=function(e,r,a,l,d,u,m,c,p,g,b,S,y,F,I,w){var T=0,C="",D="",G="",O="",R="",U=0,A=(F=0,0),P=0,k=0,j=0,E=0;I.length>0&&(E=I[0].TDD);let W=w.avgTDD7d;function q(e,r){var a=e.getTime();return new Date(a+36e5*r)}function z(e){var r=l.bolus_increment;.05!=r&&(r=.1);var a=e/r;return a>=1?o(Math.floor(a)*r,5):0}function L(e){function r(e){return e<10&&(e="0"+e),e}return r(e.getHours())+":"+r(e.getMinutes())+":00"}function X(e,r){var a=new Date("1/1/1999 "+e),t=new Date("1/1/1999 "+r);return(a.getTime()-t.getTime())/36e5}function Y(e,r){var a=0,t=r,o=(e-r)/36e5,n=0,i=o,s=0;do{if(o>0){var l=L(t);y[0].rate;for(let e=0;e<y.length;e++){var d=y[e].start;if(l==d){if(e+1<y.length){o>=(s=X(y[e+1].start,y[e].start))?n=s:o<s&&(n=o)}else if(e+1==y.length){let r=y[0].start;o>=(s=24-X(y[e].start,r))?n=s:o<s&&(n=o)}a+=z(y[e].rate*n),o-=n,t=q(t,n)}else if(l>d)if(e+1<y.length){var u=y[e+1].start;l<u&&(o>=(s=X(u,l))?n=s:o<s&&(n=o),a+=z(y[e].rate*n),o-=n,t=q(t,n))}else if(e==y.length-1){o>=(s=X("23:59:59",l))?n=s:o<s&&(n=o),a+=z(y[e].rate*n),o-=n,t=q(t,n)}}}}while(o>0&&o<i);return a}if(b.length){let e=b.length-1;var N=new Date(b[e].timestamp),H=new Date(b[0].timestamp);if("TempBasalDuration"==b[0]._type&&(H=new Date),(T=(H-N)/36e5)<23.9&&T>21)k=Y(N,(Z=24-T,$=N.getTime(),new Date($-36e5*Z))),O="24 hours of data is required for an accurate tdd calculation. Currently only "+T.toPrecision(3)+" hours of pump history data are available. Using your pump scheduled basals to fill in the missing hours. Scheduled basals added: "+k.toPrecision(5)+" U. ";else T<21?(dynISFenabled=!1,enableDynamicCR=!1):O=""}else console.log("Pumphistory is empty!"),dynISFenabled=!1,enableDynamicCR=!1;var Z,$;for(let e=0;e<b.length;e++)"Bolus"==b[e]._type&&(P+=b[e].amount);for(let e=1;e<b.length;e++)if("TempBasal"==b[e]._type&&b[e].rate>0){U=e,j=b[e].rate;var J=b[e-1]["duration (min)"]/60,K=J,Q=new Date(b[e-1].timestamp),V=Q;do{if(e--,0==e){V=new Date;break}if("TempBasal"==b[e]._type||"PumpSuspend"==b[e]._type){V=new Date(b[e].timestamp);break}}while(e>0);var ee=(V-Q)/36e5;ee<K&&(J=ee),A+=z(j*J),e=U}for(let e=0;e<b.length;e++)if(0,0==b[e]["duration (min)"]||"PumpResume"==b[e]._type){let r=new Date(b[e].timestamp),a=r,t=e;do{if(t>0&&(--t,"TempBasal"==b[t]._type)){a=new Date(b[t].timestamp);break}}while(t>0);(a-r)/36e5>0&&(k+=Y(a,r))}for(let e=b.length-1;e>0;e--)if("TempBasalDuration"==b[e]._type){let r=b[e]["duration (min)"]/60,a=new Date(b[e].timestamp);var re=a;let t=e;do{if(--t,t>=0&&("TempBasal"==b[t]._type||"PumpSuspend"==b[t]._type)){re=new Date(b[t].timestamp);break}}while(t>0);if(0==e&&"TempBasalDuration"==b[0]._type&&(re=new Date,r=b[e]["duration (min)"]/60),(re-a)/36e5-r>0){k+=Y(re,q(a,r))}}var ae={TDD:o(F=P+A+k,5),bolus:o(P,5),temp_basal:o(A,5),scheduled_basal:o(k,5)},te=F;T>21?(D=". Bolus insulin: "+P.toPrecision(5)+" U",G=". Temporary basal insulin: "+A.toPrecision(5)+" U",C=". Insulin with scheduled basal rate: "+k.toPrecision(5)+" U",R=O+(" TDD past 24h is: "+F.toPrecision(5)+" U")+D+G+C,tddReason=", TDD, 24h: "+o(F,1)+", ytd: "+o(E,1)+", 7dØ: "+o(W,1),console.error(R)):tddReason=", TDD: Not enough pumpData (< 21h)";var oe={},ne=new Date;if(g&&(ne=g),void 0===l||void 0===l.current_basal)return oe.error="Error: could not get current basal rate",oe;var ie=t(l.current_basal,l),se=ie,le=new Date;g&&(le=g);var de,ue=new Date(e.date),me=o((le-ue)/60/1e3,1),ce=e.glucose,pe=e.noise;de=n(e.delta,l);var ge=Math.min(e.delta,e.short_avgdelta),be=Math.min(e.short_avgdelta,e.long_avgdelta),fe=Math.max(e.delta,e.short_avgdelta,e.long_avgdelta);(ce<=10||38===ce||pe>=3)&&(oe.reason="CGM is calibrating, in ??? state, or noise is high");if(me>12||me<-5?oe.reason="If current system time "+le+" is correct, then BG data is too old. The last BG data was read "+me+"m ago at "+ue:0===e.short_avgdelta&&0===e.long_avgdelta&&(e.last_cal&&e.last_cal<3?oe.reason="CGM was just calibrated":oe.reason="CGM data is unchanged ("+n(ce,l)+"+"+n(e.delta,l)+") for 5m w/ "+n(e.short_avgdelta,l)+" mg/dL ~15m change & "+n(e.long_avgdelta,l)+" mg/dL ~45m change"),ce<=10||38===ce||pe>=3||me>12||me<-5||0===e.short_avgdelta&&0===e.long_avgdelta)return r.rate>=se?(oe.reason+=". Canceling high temp basal of "+r.rate,oe.deliverAt=ne,oe.temp="absolute",oe.duration=0,oe.rate=0,oe):0===r.rate&&r.duration>30?(oe.reason+=". Shortening "+r.duration+"m long zero temp to 30m. ",oe.deliverAt=ne,oe.temp="absolute",oe.duration=30,oe.rate=0,oe):(oe.reason+=". Temp "+r.rate+" <= current basal "+se+"U/hr; doing nothing. ",oe);var he,ve,_e,Be,Me=l.max_iob;if(void 0!==l.min_bg&&(ve=l.min_bg),void 0!==l.max_bg&&(_e=l.max_bg),void 0!==l.enableSMB_high_bg_target&&(Be=l.enableSMB_high_bg_target),void 0===l.min_bg||void 0===l.max_bg)return oe.error="Error: could not determine target_bg. ",oe;he=(l.min_bg+l.max_bg)/2;var Se=l.exercise_mode||l.high_temptarget_raises_sensitivity,ye=100,xe=160;if(l.half_basal_exercise_target&&(xe=l.half_basal_exercise_target),Se&&l.temptargetSet&&he>ye||l.low_temptarget_lowers_sensitivity&&l.temptargetSet&&he<ye){var Fe=xe-ye;sensitivityRatio=Fe*(Fe+he-ye)<=0?l.autosens_max:Fe/(Fe+he-ye),sensitivityRatio=Math.min(sensitivityRatio,l.autosens_max),sensitivityRatio=o(sensitivityRatio,2),process.stderr.write("Sensitivity ratio set to "+sensitivityRatio+" based on temp target of "+he+"; ")}else void 0!==d&&d&&(sensitivityRatio=d.ratio,process.stderr.write("Autosens ratio: "+sensitivityRatio+"; "));if(sensitivityRatio&&(se=l.current_basal*sensitivityRatio,(se=t(se,l))!==ie?process.stderr.write("Adjusting basal from "+ie+" to "+se+"; "):process.stderr.write("Basal unchanged: "+se+"; ")),l.temptargetSet);else if(void 0!==d&&d&&(l.sensitivity_raises_target&&d.ratio<1||l.resistance_lowers_target&&d.ratio>1)){ve=o((ve-60)/d.ratio)+60,_e=o((_e-60)/d.ratio)+60;var Ie=o((he-60)/d.ratio)+60;he===(Ie=Math.max(80,Ie))?process.stderr.write("target_bg unchanged: "+Ie+"; "):process.stderr.write("target_bg from "+he+" to "+Ie+"; "),he=Ie}var we=200,Te=200,Ce=200;if(e.noise>=2){var De=Math.max(1.1,l.noisyCGMTargetMultiplier);Math.min(250,l.maxRaw);we=o(Math.min(200,ve*De)),Te=o(Math.min(200,he*De)),Ce=o(Math.min(200,_e*De)),process.stderr.write("Raising target_bg for noisy / raw CGM data, from "+he+" to "+Te+"; "),ve=we,he=Te,_e=Ce}var Ge=ve-.5*(ve-40),Oe=o(l.sens,1),Re=l.sens;void 0!==d&&d&&((Re=o(Re=l.sens/sensitivityRatio,1))!==Oe?process.stderr.write("ISF from "+n(Oe,l)+" to "+n(Re,l)):process.stderr.write("ISF unchanged: "+n(Re,l))),console.error("CR:"+l.carb_ratio),console.error("----------------------------------"),console.error(" start autoISF"),console.error("----------------------------------"),console.error("autoISFtimer start");var Ue=function(e,r,a){if(e.use_autoisf&&e.iob_threshold>0&&e.iob_threshold<r[0].iob)return s=", autoISF-SMB disabled:, IOB: "+o(r[0].iob,2)+", > threshold: "+e.iob_threshold+", maxIOB: "+e.max_iob,console.error(s),"iobTH";if(e.use_autoisf&&e.temptargetSet&&e.enableSMB_EvenOn_OddOff||e.use_autoisf&&e.min_bg==e.max_bg&&e.enableSMB_EvenOn_OddOff_always){var t=n(a,e);return e.temptargetSet?msgType="TempTarget ":msgType="profile target ","mmol/L"==e.out_units?(evenTarget=o(10*t,0)%2==0,msgUnits=" has ",msgTail=" decimal"):(evenTarget=t%2==0,msgUnits=" is ",msgTail=" number"),evenTarget?msgEven="even":msgEven="odd",evenTarget?(console.error("SMB enabled - "+msgType+t+msgUnits+msgEven+msgTail),e.temptargetSet&&a<100?(console.error("Full Loop enabled, SMB enforced"),s=", autoISF-SMB enabled:, even TT","enforced"):(s=", autoISF-SMB enabled:, even Target","enabled")):(console.error("SMB disabled - "+msgType+t+msgUnits+msgEven+msgTail),s=", autoISF-SMB disabled:, odd Target","blocked")}return"oref"}(l,a,he),Ae=!0;if(c&&"oref"!=Ue?("blocked"==Ue&&(Ae=!1),console.error("loopSMB function overriden with autoISF target toggle, enableSMB = "+Ae)):(Ae=function(e,r,a,t,o,i){return r?!e.allowSMB_with_high_temptarget&&e.temptargetSet&&o>100?(console.error("SMB disabled due to high temptarget of "+o),!1):!0===a.bwFound&&!1===e.A52_risk_enable?(console.error("SMB disabled due to Bolus Wizard activity in the last 6 hours."),!1):!0===e.enableSMB_always?(a.bwFound?console.error("Warning: SMB enabled within 6h of using Bolus Wizard: be sure to easy bolus 30s before using Bolus Wizard"):console.error("SMB enabled due to enableSMB_always"),!0):!0===e.enableSMB_with_COB&&a.mealCOB?(a.bwCarbs?console.error("Warning: SMB enabled with Bolus Wizard carbs: be sure to easy bolus 30s before using Bolus Wizard"):console.error("SMB enabled for COB of",a.mealCOB),!0):!0===e.enableSMB_after_carbs&&a.carbs?(a.bwCarbs?console.error("Warning: SMB enabled with Bolus Wizard carbs: be sure to easy bolus 30s before using Bolus Wizard"):console.error("SMB enabled for 6h after carb entry"),!0):!0===e.enableSMB_with_temptarget&&e.temptargetSet&&o<100?(a.bwFound?console.error("Warning: SMB enabled within 6h of using Bolus Wizard: be sure to easy bolus 30s before using Bolus Wizard"):console.error("SMB enabled for temptarget of",n(o,e)),console.error("SMB enabled for temptargets with "+n(o,e)),!0):!0===e.enableSMB_high_bg&&null!==i&&t>=i?(console.error("Checking BG to see if High for SMB enablement."),console.error("Current BG",t," | High BG ",i),a.bwFound?console.error("Warning: High BG SMB enabled within 6h of using Bolus Wizard: be sure to easy bolus 30s before using Bolus Wizard"):console.error("High BG detected. Enabling SMB."),!0):(console.error("SMB disabled (no enableSMB preferences active or no condition satisfied)"),!1):(console.error("SMB disabled (!microBolusAllowed)"),!1)}(l,c,u,ce,he,Be),console.error("loopSMB function returns enableSMB = "+Ae)),Re=x(Re,he,l,e,u,g,sensitivityRatio,ye),console.error("autoISFtimer end"),console.error("----------------------------------"),console.error(" end autoISF"),console.error("----------------------------------"),void 0===a)return oe.error="Error: iob_data undefined. ",oe;var Pe,ke=a;if(a.length,a.length>1&&(a=ke[0]),void 0===a.activity||void 0===a.iob)return oe.error="Error: iob_data missing some property. ",oe;var je=((Pe=void 0!==a.lastTemp?o((new Date(le).getTime()-a.lastTemp.date)/6e4):0)+r.duration)%30;if(console.error("currenttemp:"+r.rate+" lastTempAge:"+Pe+"m, tempModulus:"+je+"m"),oe.temp="absolute",oe.deliverAt=ne,c&&r&&a.lastTemp&&r.rate!==a.lastTemp.rate&&Pe>10&&r.duration)return oe.reason="Warning: currenttemp rate "+r.rate+" != lastTemp rate "+a.lastTemp.rate+" from pumphistory; canceling temp",m.setTempBasal(0,0,l,oe,r);if(r&&a.lastTemp&&r.duration>0){var Ee=Pe-a.lastTemp.duration;if(Ee>5&&Pe>10)return oe.reason="Warning: currenttemp running but lastTemp from pumphistory ended "+Ee+"m ago; canceling temp",m.setTempBasal(0,0,l,oe,r)}var We=o(-a.activity*Re*5,2),qe=o(6*(ge-We));qe<0&&(qe=o(6*(be-We)))<0&&(qe=o(6*(e.long_avgdelta-We)));var ze=ce,Le=(ze=a.iob>0?o(ce-a.iob*Re):o(ce-a.iob*Math.min(Re,l.sens)))+qe;if(void 0===Le||isNaN(Le))return oe.error="Error: could not calculate eventualBG. Sensitivity: "+Re+" Deviation: "+qe,oe;var Xe=function(e,r,a){return o(a+(e-r)/24,1)}(he,Le,We);oe={temp:"absolute",bg:n(ce,l),tick:de,eventualBG:n(Le,l),insulinReq:0,reservoir:p,deliverAt:ne,sensitivityRatio,TDD:te,insulin:ae};var Ye=[],Ne=[],He=[],Ze=[];Ye.push(ce),Ne.push(ce),Ze.push(ce),He.push(ce);var $e=l.enableUAM,Je=0,Ke=0;Je=o(ge-We,1);var Qe=o(ge-We,1);csf=Re/l.carb_ratio,console.error("profile.sens:"+n(l.sens,l)+", sens:"+n(Re,l)+", CSF:"+o(csf,1));var Ve=o(30*csf*5/60,1);Je>Ve&&(console.error("Limiting carb impact from "+Je+" to "+Ve+"mg/dL/5m (30g/h)"),Je=Ve);var er=3;sensitivityRatio&&(er/=sensitivityRatio);var rr=er;if(u.carbs){er=Math.max(er,u.mealCOB/20);var ar=o((new Date(le).getTime()-u.lastCarbTime)/6e4),tr=(u.carbs-u.mealCOB)/u.carbs;rr=o(rr=er+1.5*ar/60,1),console.error("Last carbs "+ar+" minutes ago; remainingCATime:"+rr+"hours; "+o(100*tr)+"% carbs absorbed")}var or=Math.max(0,Je/5*60*rr/2)/csf,nr=90,ir=1;l.remainingCarbsCap&&(nr=Math.min(90,l.remainingCarbsCap)),l.remainingCarbsFraction&&(ir=Math.min(1,l.remainingCarbsFraction));var sr=1-ir,lr=Math.max(0,u.mealCOB-or-u.carbs*sr),dr=(lr=Math.min(nr,lr))*csf*5/60/(rr/2),ur=o(u.slopeFromMaxDeviation,2),mr=o(u.slopeFromMinDeviation,2),cr=Math.min(ur,-mr/3),pr=0;0===Je?Ke=0:!0===l.floating_carbs?(Ke=Math.min(60*rr/5/2,Math.max(0,u.carbs*csf/Je)),pr=Math.min(60*rr/5/2,Math.max(0,u.mealCOB*csf/Je)),u.carbs>0&&(i+=", Floating Carbs:, CID: "+o(Ke,1)+", MealCarbs: "+o(u.carbs,1)+", Not Floating:, CID: "+o(pr,1)+", MealCOB: "+o(u.mealCOB,1),console.error("Floating Carbs CID: "+o(Ke,1)+" / MealCarbs: "+o(u.carbs,1)+" vs. Not Floating:"+o(pr,1)+" / MealCOB:"+o(u.mealCOB,1)))):Ke=Math.min(60*rr/5/2,Math.max(0,u.mealCOB*csf/Je)),console.error("Carb Impact:"+Je+"mg/dL per 5m; CI Duration:"+o(5*Ke/60*2,1)+"hours; remaining CI ("+o(rr/2,2)+"h peak):",o(dr,1)+"mg/dL per 5m");var gr,br,fr,hr,vr,_r=999,Br=999,Mr=999,Sr=ce,yr=999,xr=999,Fr=999,Ir=999,wr=Le,Tr=ce,Cr=ce,Dr=0,Gr=[],Or=[];try{ke.forEach((function(e){var r=o(-e.activity*Re*5,2),a=o(-e.iobWithZeroTemp.activity*Re*5,2),t=Je*(1-Math.min(1,Ne.length/12));wr=Ne[Ne.length-1]+r+t;var n=Ze[Ze.length-1]+a,i=Math.max(0,Math.max(0,Je)*(1-Ye.length/Math.max(2*Ke,1))),s=Math.min(Ye.length,12*rr-Ye.length),l=Math.max(0,s/(rr/2*12)*dr);i+l,Gr.push(o(l,0)),Or.push(o(i,0)),COBpredBG=Ye[Ye.length-1]+r+Math.min(0,t)+i+l;var d=Math.max(0,Qe+He.length*cr),u=Math.max(0,Qe*(1-He.length/Math.max(36,1))),m=Math.min(d,u);m>0&&(Dr=o(5*(He.length+1)/60,1)),UAMpredBG=He[He.length-1]+r+Math.min(0,t)+m,Ne.length<48&&Ne.push(wr),Ye.length<48&&Ye.push(COBpredBG),He.length<48&&He.push(UAMpredBG),Ze.length<48&&Ze.push(n),COBpredBG<yr&&(yr=o(COBpredBG)),UAMpredBG<xr&&(xr=o(UAMpredBG)),wr<Fr&&(Fr=o(wr)),n<Ir&&(Ir=o(n));Ne.length>18&&wr<_r&&(_r=o(wr)),wr>Tr&&(Tr=wr),(Ke||dr>0)&&Ye.length>18&&COBpredBG<Br&&(Br=o(COBpredBG)),(Ke||dr>0)&&COBpredBG>Tr&&(Cr=COBpredBG),$e&&He.length>12&&UAMpredBG<Mr&&(Mr=o(UAMpredBG)),$e&&UAMpredBG>Tr&&UAMpredBG}))}catch(e){console.error("Problem with iobArray.  Optional feature Advanced Meal Assist disabled")}oe.predBGs={},Ne.forEach((function(e,r,a){a[r]=o(Math.min(401,Math.max(39,e)))}));for(var Rr=Ne.length-1;Rr>12&&Ne[Rr-1]===Ne[Rr];Rr--)Ne.pop();for(oe.predBGs.IOB=Ne,fr=o(Ne[Ne.length-1]),Ze.forEach((function(e,r,a){a[r]=o(Math.min(401,Math.max(39,e)))})),Rr=Ze.length-1;Rr>6&&!(Ze[Rr-1]>=Ze[Rr]||Ze[Rr]<=he);Rr--)Ze.pop();if(oe.predBGs.ZT=Ze,o(Ze[Ze.length-1]),u.mealCOB>0&&(Je>0||dr>0)){for(Ye.forEach((function(e,r,a){a[r]=o(Math.min(401,Math.max(39,e)))})),Rr=Ye.length-1;Rr>12&&Ye[Rr-1]===Ye[Rr];Rr--)Ye.pop();oe.predBGs.COB=Ye,hr=o(Ye[Ye.length-1]),Le=Math.max(Le,o(Ye[Ye.length-1]))}if(Je>0||dr>0){if($e){for(He.forEach((function(e,r,a){a[r]=o(Math.min(401,Math.max(39,e)))})),Rr=He.length-1;Rr>12&&He[Rr-1]===He[Rr];Rr--)He.pop();oe.predBGs.UAM=He,vr=o(He[He.length-1]),He[He.length-1]&&(Le=Math.max(Le,o(He[He.length-1])))}oe.eventualBG=Le}console.error("UAM Impact:"+Qe+"mg/dL per 5m; UAM Duration:"+Dr+"hours"),_r=Math.max(39,_r),Br=Math.max(39,Br),Mr=Math.max(39,Mr),gr=o(_r);var Ur=u.mealCOB/u.carbs;br=o(Mr<999&&Br<999?(1-Ur)*UAMpredBG+Ur*COBpredBG:Br<999?(wr+COBpredBG)/2:Mr<999?(wr+UAMpredBG)/2:wr),Ir>br&&(br=Ir),Sr=o(Sr=Ke||dr>0?$e?Ur*yr+(1-Ur)*xr:yr:$e?xr:Fr);var Ar=Mr;if(Ir<Ge)Ar=(Mr+Ir)/2;else if(Ir<he){var Pr=(Ir-Ge)/(he-Ge);Ar=(Mr+(Mr*Pr+Ir*(1-Pr)))/2}else Ir>Mr&&(Ar=(Mr+Ir)/2);if(Ar=o(Ar),u.carbs)if(!$e&&Br<999)gr=o(Math.max(_r,Br));else if(Br<999){var kr=Ur*Br+(1-Ur)*Ar;gr=o(Math.max(_r,Br,kr))}else gr=$e?Ar:Sr;else $e&&(gr=o(Math.max(_r,Ar)));gr=Math.min(gr,br),process.stderr.write("minPredBG: "+n(gr,l)+" minIOBPredBG: "+n(_r,l)+" minZTGuardBG: "+n(Ir,l)),Br<999&&process.stderr.write(" minCOBPredBG: "+n(Br,l)),Mr<999&&process.stderr.write(" minUAMPredBG: "+n(Mr,l)),console.error(" avgPredBG:"+n(br,l)+" COB/Carbs:"+u.mealCOB+"/"+u.carbs),Cr>ce&&(gr=Math.min(gr,Cr)),oe.COB=u.mealCOB,oe.IOB=a.iob,oe.BGI=n(We,l),oe.deviation=n(qe,l),oe.dura_ISFratio=o(B,2),oe.bg_ISFratio=o(h,2),oe.delta_ISFratio=o(v,2),oe.pp_ISFratio=o(_,2),oe.acce_ISFratio=o(f,2),oe.auto_ISFratio=o(1==M?sensitivityRatio:M,2),oe.ISF=n(Re,l),oe.CR=o(l.carb_ratio,2),oe.TDD=o(te,1),oe.TDDytd=o(E,1),oe.TDD7d=o(W,1),oe.target_bg=n(he,l);var jr=function(e,r,a,t){if(!e.use_autoisf)return console.error("autoISF disabled, don't adjust SMB Delivery Ratio"),.5;if(0===e.smb_delivery_ratio_bg_range||"fullLoop"===t)return console.error("SMB delivery ratio set to fixed value "+e.smb_delivery_ratio),e.smb_delivery_ratio;var n=Math.min(e.smb_delivery_ratio_min,e.smb_delivery_ratio_max);if(r<=a)return console.error("SMB delivery ratio limited by minimum value "+n),n;var i=Math.max(e.smb_delivery_ratio_min,e.smb_delivery_ratio_max);if(r>=a+e.smb_delivery_ratio_bg_range)return console.error("SMB delivery ratio limited by maximum value "+i),i;var s=n+(i-n)*(r-a)/e.smb_delivery_ratio_bg_range;return console.error("SMB delivery ratio set to interpolated value "+o(s,2)),s}(l,ce,he,Ue);oe.SMBratio=o(jr,2);var Er="SMB Ratio:, "+o(jr,2)+", ";Ae||(Er=""),oe.reason=Er+i+", Standard, COB: "+oe.COB+", Dev: "+oe.deviation+", BGI: "+oe.BGI+", ISF: "+oe.ISF+", CR: "+oe.CR+", Target: "+oe.target_bg+", minPredBG "+n(gr,l)+", minGuardBG "+n(Sr,l)+", IOBpredBG "+n(fr,l),hr>0&&(oe.reason+=", COBpredBG "+n(hr,l)),vr>0&&(oe.reason+=", UAMpredBG "+n(vr,l)),oe.reason+=tddReason,oe.reason+="; ";var Wr=ze;Wr<40&&(Wr=Math.min(Sr,Wr));var qr=Ge-Wr,zr=240,Lr=240;if(u.mealCOB>0&&(Je>0||dr>0)){for(Rr=0;Rr<Ye.length;Rr++)if(Ye[Rr]<ve){zr=5*Rr;break}for(Rr=0;Rr<Ye.length;Rr++)if(Ye[Rr]<Ge){Lr=5*Rr;break}}else{for(Rr=0;Rr<Ne.length;Rr++)if(Ne[Rr]<ve){zr=5*Rr;break}for(Rr=0;Rr<Ne.length;Rr++)if(Ne[Rr]<Ge){Lr=5*Rr;break}}Ae&&Sr<Ge&&(console.error("minGuardBG "+n(Sr,l)+" projected below "+n(Ge,l)+" - disabling SMB"),Ae=!1);var Xr=.2;void 0!==l.maxDelta_bg_threshold&&"fullLoop"==Ue&&(Xr=Math.min(l.maxDelta_bg_threshold,.4)),fe>Xr*ce&&(console.error("maxDelta "+n(fe,l)+" > "+100*Xr+"% of BG "+n(ce,l)+" - disabling SMB"),oe.reason+="maxDelta "+n(fe,l)+" > "+100*Xr+"% of BG "+n(ce,l)+" - SMB disabled!, ",Ae=!1),console.error("BG projected to remain above "+n(ve,l)+" for "+zr+"minutes"),(Lr<240||zr<60)&&console.error("BG projected to remain above "+n(Ge,l)+" for "+Lr+"minutes");var Yr=Lr,Nr=l.current_basal*Re*Yr/60,Hr=Math.max(0,u.mealCOB-.25*u.carbs),Zr=(qr-Nr)/csf-Hr;Nr=o(Nr),Zr=o(Zr),console.error("naive_eventualBG: "+n(ze,l)+", bgUndershoot: "+n(qr,l)+", zeroTempDuration: "+Yr+", zeroTempEffect: "+Nr+", carbsReq: "+Zr),"Could not parse clock data"==u.reason?console.error("carbsReq unknown: Could not parse clock data"):Zr>=l.carbsReqThreshold&&Lr<=45&&(oe.carbsReq=Zr,oe.reason+=Zr+" add'l carbs req w/in "+Lr+"m; ");var $r=0;if(ce<Ge&&a.iob<20*-l.current_basal/60&&ge>0&&ge>Xe)oe.reason+="IOB "+a.iob+" < "+o(20*-l.current_basal/60,2),oe.reason+=" and minDelta "+n(ge,l)+" > expectedDelta "+n(Xe,l)+"; ";else if(ce<Ge||Sr<Ge)return oe.reason+="minGuardBG "+n(Sr,l)+"<"+n(Ge,l),$r=o(60*((qr=he-Sr)/Re)/l.current_basal),$r=30*o($r/30),$r=Math.min(120,Math.max(30,$r)),m.setTempBasal(0,$r,l,oe,r);if(l.skip_neutral_temps&&oe.deliverAt.getMinutes()>=55)return oe.reason+="; Canceling temp at "+oe.deliverAt.getMinutes()+"m past the hour. ",m.setTempBasal(0,0,l,oe,r);var Jr=0,Kr=se;if(Le<ve){if(oe.reason+="Eventual BG "+n(Le,l)+" < "+n(ve,l),ge>Xe&&ge>0&&!Zr)return ze<40?(oe.reason+=", naive_eventualBG < 40. ",m.setTempBasal(0,30,l,oe,r)):(e.delta>ge?oe.reason+=", but Delta "+n(de,l)+" > expectedDelta "+n(Xe,l):oe.reason+=", but Min. Delta "+ge.toFixed(2)+" > Exp. Delta "+n(Xe,l),r.duration>15&&t(se,l)===t(r.rate,l)?(oe.reason+=", temp "+r.rate+" ~ req "+se+"U/hr. ",oe):(oe.reason+="; setting current basal of "+se+" as temp. ",m.setTempBasal(se,30,l,oe,r)));Jr=o(Jr=2*Math.min(0,(Le-he)/Re),2);var Qr=Math.min(0,(ze-he)/Re);if(Qr=o(Qr,2),ge<0&&ge>Xe)Jr=o(Jr*(ge/Xe),2);if(Kr=t(Kr=se+2*Jr,l),r.duration*(r.rate-se)/60<Math.min(Jr,Qr)-.3*se)return oe.reason+=", "+r.duration+"m@"+r.rate.toFixed(2)+" is a lot less than needed. ",m.setTempBasal(Kr,30,l,oe,r);if(void 0!==r.rate&&r.duration>5&&Kr>=.8*r.rate)return oe.reason+=", temp "+r.rate+" ~< req "+Kr+"U/hr. ",oe;if(Kr<=0){if(($r=o(60*((qr=he-ze)/Re)/l.current_basal))<0?$r=0:($r=30*o($r/30),$r=Math.min(120,Math.max(0,$r))),$r>0)return oe.reason+=", setting "+$r+"m zero temp. ",m.setTempBasal(Kr,$r,l,oe,r)}else oe.reason+=", setting "+Kr+"U/hr. ";return m.setTempBasal(Kr,30,l,oe,r)}if(ge<Xe&&(!c||!Ae))return e.delta<ge?oe.reason+="Eventual BG "+n(Le,l)+" > "+n(ve,l)+" but Delta "+n(de,l)+" < Exp. Delta "+n(Xe,l):oe.reason+="Eventual BG "+n(Le,l)+" > "+n(ve,l)+" but Min. Delta "+ge.toFixed(2)+" < Exp. Delta "+n(Xe,l),r.duration>15&&t(se,l)===t(r.rate,l)?(oe.reason+=", temp "+r.rate+" ~ req "+se+"U/hr. ",oe):(oe.reason+="; setting current basal of "+se+" as temp. ",m.setTempBasal(se,30,l,oe,r));if(Math.min(Le,gr)<_e&&(!c||!Ae))return oe.reason+=n(Le,l)+"-"+n(gr,l)+" in range: no temp required",r.duration>15&&t(se,l)===t(r.rate,l)?(oe.reason+=", temp "+r.rate+" ~ req "+se+"U/hr. ",oe):(oe.reason+="; setting current basal of "+se+" as temp. ",m.setTempBasal(se,30,l,oe,r));if(Le>=_e&&(oe.reason+="Eventual BG "+n(Le,l)+" >= "+n(_e,l)+", "),a.iob>Me)return oe.reason+="IOB "+o(a.iob,2)+" > max_iob "+Me,r.duration>15&&t(se,l)===t(r.rate,l)?(oe.reason+=", temp "+r.rate+" ~ req "+se+"U/hr. ",oe):(oe.reason+="; setting current basal of "+se+" as temp. ",m.setTempBasal(se,30,l,oe,r));(Jr=o((Math.min(gr,Le)-he)/Re,2))>Me-a.iob&&(oe.reason+="max_iob "+Me+", ",Jr=Me-a.iob),Kr=t(Kr=se+2*Jr,l),Jr=o(Jr,3),oe.insulinReq=Jr;var Vr=o((new Date(le).getTime()-a.lastBolusTime)/6e4,1);if(c&&Ae&&ce>Ge){var ea=o(u.mealCOB/l.carb_ratio,3);if(l.use_autoisf)ra=l.smb_max_range_extension;else{console.error("autoISF disabled, SMB range extension disabled");var ra=1}ra>1&&console.error("SMB max range extended from default by factor "+ra);var aa=0;void 0===l.maxSMBBasalMinutes?(aa=o(ra*l.current_basal*30/60,1),console.error("profile.maxSMBBasalMinutes undefined: defaulting to 30m")):a.iob>ea&&a.iob>0?(console.error("IOB",a.iob,"> COB",u.mealCOB+"; mealInsulinReq =",ea),l.maxUAMSMBBasalMinutes?(console.error("profile.maxUAMSMBBasalMinutes:",l.maxUAMSMBBasalMinutes,"profile.current_basal:",l.current_basal),aa=o(ra*l.current_basal*l.maxUAMSMBBasalMinutes/60,1)):(console.error("profile.maxUAMSMBBasalMinutes undefined: defaulting to 30m"),aa=o(30*l.current_basal/60,1))):(console.error("profile.maxSMBBasalMinutes:",l.maxSMBBasalMinutes,"profile.current_basal:",l.current_basal),aa=o(ra*l.current_basal*l.maxSMBBasalMinutes/60,1));var ta=l.bolus_increment,oa=1/ta;l.use_autoisf||(console.error("autoISF disabled, don't adjust SMB Delivery Ratio"),jr=.5),jr>.5&&console.error("SMB Delivery Ratio increased from default 0.5 to "+o(jr,2));var na=Math.min(Jr*jr,aa);na=Math.floor(na*oa)/oa,$r=o(60*((he-(ze+_r)/2)/Re)/l.current_basal),Jr>0&&na<ta&&($r=0);var ia=0;$r<=0?$r=0:$r>=30?($r=30*o($r/30),$r=Math.min(60,Math.max(0,$r))):(ia=o(se*$r/30,2),$r=30),oe.reason+=" insulinReq "+Jr,na>=aa&&(oe.reason+="; maxBolus "+aa),$r>0&&(oe.reason+="; setting "+$r+"m low temp of "+ia+"U/h"),oe.reason+=". ";var sa=3;l.SMBInterval&&(sa=Math.min(10,Math.max(1,l.SMBInterval)));var la=o(sa-Vr,0),da=o(60*(sa-Vr),0)%60;if(console.error("naive_eventualBG "+n(ze,l)+", "+$r+"m "+ia+"U/h temp needed; last bolus "+Vr+"m ago; maxBolus: "+aa),Vr>sa?na>0&&(oe.units=na,oe.reason+="Microbolusing "+na+"U. "):oe.reason+="Waiting "+la+"m "+da+"s to microbolus again. ",$r>0)return oe.rate=ia,oe.duration=$r,oe}var ua=m.getMaxSafeBasal(l);return Kr>ua&&(oe.reason+="adj. req. rate: "+o(Kr,2)+" to maxSafeBasal: "+o(ua,2)+", ",Kr=t(ua,l)),r.duration*(r.rate-se)/60>=2*Jr?(oe.reason+=r.duration+"m@"+r.rate.toFixed(2)+" > 2 * insulinReq. Setting temp basal of "+Kr+"U/hr. ",m.setTempBasal(Kr,30,l,oe,r)):void 0===r.duration||0===r.duration?(oe.reason+="no temp, setting "+Kr+"U/hr. ",m.setTempBasal(Kr,30,l,oe,r)):r.duration>5&&t(Kr,l)<=t(r.rate,l)?(oe.reason+="temp "+r.rate+" >~ req "+Kr+"U/hr. ",oe):(oe.reason+="temp "+r.rate+"<"+Kr+"U/hr. ",m.setTempBasal(Kr,30,l,oe,r))}},6880:(e,r,a)=>{var t=a(6654);e.exports=function(e,r){var a=20;void 0!==r&&"string"==typeof r.model&&(t(r.model,"54")||t(r.model,"23"))&&(a=40);return e<1?Math.round(e*a)/a:e<10?Math.round(20*e)/20:Math.round(10*e)/10}},2705:(e,r,a)=>{var t=a(5639).Symbol;e.exports=t},9932:e=>{e.exports=function(e,r){for(var a=-1,t=null==e?0:e.length,o=Array(t);++a<t;)o[a]=r(e[a],a,e);return o}},9750:e=>{e.exports=function(e,r,a){return e==e&&(void 0!==a&&(e=e<=a?e:a),void 0!==r&&(e=e>=r?e:r)),e}},4239:(e,r,a)=>{var t=a(2705),o=a(9607),n=a(2333),i=t?t.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):n(e)}},531:(e,r,a)=>{var t=a(2705),o=a(9932),n=a(1469),i=a(3448),s=t?t.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(r){if("string"==typeof r)return r;if(n(r))return o(r,e)+"";if(i(r))return l?l.call(r):"";var a=r+"";return"0"==a&&1/r==-Infinity?"-0":a}},7561:(e,r,a)=>{var t=a(7990),o=/^\s+/;e.exports=function(e){return e?e.slice(0,t(e)+1).replace(o,""):e}},1957:(e,r,a)=>{var t="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g;e.exports=t},9607:(e,r,a)=>{var t=a(2705),o=Object.prototype,n=o.hasOwnProperty,i=o.toString,s=t?t.toStringTag:void 0;e.exports=function(e){var r=n.call(e,s),a=e[s];try{e[s]=void 0;var t=!0}catch(e){}var o=i.call(e);return t&&(r?e[s]=a:delete e[s]),o}},2333:e=>{var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},5639:(e,r,a)=>{var t=a(1957),o="object"==typeof self&&self&&self.Object===Object&&self,n=t||o||Function("return this")();e.exports=n},7990:e=>{var r=/\s/;e.exports=function(e){for(var a=e.length;a--&&r.test(e.charAt(a)););return a}},6654:(e,r,a)=>{var t=a(9750),o=a(531),n=a(554),i=a(9833);e.exports=function(e,r,a){e=i(e),r=o(r);var s=e.length,l=a=void 0===a?s:t(n(a),0,s);return(a-=r.length)>=0&&e.slice(a,l)==r}},1469:e=>{var r=Array.isArray;e.exports=r},3218:e=>{e.exports=function(e){var r=typeof e;return null!=e&&("object"==r||"function"==r)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},3448:(e,r,a)=>{var t=a(4239),o=a(7005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==t(e)}},8601:(e,r,a)=>{var t=a(4841),o=1/0;e.exports=function(e){return e?(e=t(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},554:(e,r,a)=>{var t=a(8601);e.exports=function(e){var r=t(e),a=r%1;return r==r?a?r-a:r:0}},4841:(e,r,a)=>{var t=a(7561),o=a(3218),n=a(3448),i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(n(e))return NaN;if(o(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=o(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=t(e);var a=s.test(e);return a||l.test(e)?d(e.slice(2),a?2:8):i.test(e)?NaN:+e}},9833:(e,r,a)=>{var t=a(531);e.exports=function(e){return null==e?"":t(e)}}},r={};function a(t){var o=r[t];if(void 0!==o)return o.exports;var n=r[t]={exports:{}};return e[t](n,n.exports,a),n.exports}a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();var t=a(5546);freeaps_determineBasal=t})();